<ion-content fullscreen>
  <ion-toolbar>
      <ion-buttons slot="start">
    <ion-button (click)="backToLibrary()">
      <ion-icon slot="icon-only" name="arrow-back-outline"></ion-icon>
    </ion-button>
  </ion-buttons>
  </ion-toolbar>

  <ion-grid>
    <ion-row>
      <ion-col size="3">
        <ion-card>
          <img src="{{ anime.anime?.images?.jpg?.image_url }}" alt="{{ anime.anime?.title }}">
        </ion-card>
      </ion-col>
      <ion-col size="9">
        <ion-card>
          <ion-card-header>
            <ion-card-title>{{ anime.anime?.title }}</ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <div>
                <p *ngIf="anime.anime?.synopsis" appExpandable>Synopsis: {{ anime.anime?.synopsis }}</p>
            </div>
            <div>
              <ion-text>Episodes: {{ (anime.anime$ | async)?.episodes }}</ion-text>
            </div>
            <div>
              <ion-text>Year published: {{ (anime.anime$ | async)?.year }}</ion-text>
            </div>
            <div>
              <ion-text>Status of the anime: {{ (anime.anime$ | async)?.status }}</ion-text>
            </div>
            <div>
              <ion-text>Score: {{ (anime.anime$ | async)?.user_score }}</ion-text>
            </div>
            <div>
              <ion-text>User status: {{ (anime.anime$ | async)?.watch_status | titlecase}}</ion-text>
            </div>
            <div>
              <ion-text>Episodes watched: {{ (anime.anime$ | async)?.episodes_watched }}</ion-text>
            </div>
          </ion-card-content>
          <ion-button (click)="editAnime()">EDITAR</ion-button>
          <ion-button (click)="deleteAnime()">BORRAR</ion-button>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>
  <ion-button (click)="onReview()">CREAR RESEÃ‘A</ion-button>
  <app-reviews *ngFor="let review of reviewService.reviews$ | async | userReview" 
  [review]="review"></app-reviews>
</ion-content>
